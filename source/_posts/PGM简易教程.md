---
title: PGM简易教程
categories: PSP
tags:
- PGM教程
- PSP
---
## 什么是PGM ##
PGM，全称为**Pocket Game Maker**，是由「掌机开发者之家」的白枫开发。最初制作的意愿是为了能自制类似“逆转裁判”的游戏。但现在被主要用来移植AVG类游戏。

PGM是由**lua语言**编写而成，对外提供端口，可以自行添加代码对引擎进行"魔改"。其中比较著名的魔改版本也是作者我所使用过的名称为**PocketGameMaker-ConvertedEdition-**（以下简称为PGM CE版），此魔改版添加了4种简易的天气系统，和隐藏对话框的功能。考虑到是移植AVG游戏，所以以下教程均以魔改版为基础讲解。

<!--more-->

## 搭建环境 ##
1. 下载并解压PGM CE版到你认为合适的位置。通常建议放到空间比较大的盘里，不建议放在桌面。本教程我的根目录为`\PGM_CE`。
2. 打开文件夹，点击**install.bat**文件去安装PGM_CE在电脑上试运行的必须文件。（此动作会复制`\PGM_CE\tools\winxp_dll`内的文件到`PGM_CE\bin`目录下）
3. 在`\PGM_CE\src\user`下创建一个文本文件，重命名为**test.ev**。（此处新创建了`.ev`文件，是PGM专用的脚本文件，但其本质上还是文本文件）
4. 复制下面的代码到test.ev文件内。
    ```
    test("你好，PGM。")
    ```
    点击**pack.bat**，再点击**run.bat**。
    如果成功出现文字：**你好，PGM。**，则环境配置完毕。

    注：**pack.bat**用来打包图片等不包括脚本的资源文件，**run.bat**专门用来打包资源文件。

## 文件夹介绍 ##
1. `bin`文件夹：存放非图片脚本资源（包括背景音乐、人物语音、字体、音效和视频）
2. `src`文件夹：存放脚本、图片资源。
3. `tools`文件夹：PGM的一些工具。

## 显示文字 ##
1. 显示文字的方法如下：你可以自由更改双引号里的内容。需要注意的是文字编码格式必须是`GB2312`，且英文和中文全部为半角输入。
    ```
    简单的显示一句话
    text("这是一句话")
    
    显示一句话的同时附带人物名字
    text("人物名字","说的话")
    ```

### 文字立绘 ###

## 显示图片 ##
1. 背景图片和人物立绘图片能显示的数量有区别。
    ```
    显示背景图片
    bg(file,...)

    显示人物立绘
    fg(file,...)
    ```

### 图片遮片 ###
## 显示视频 ##
## 标签跳转 ##
## 脚本跳转 ##
## 分支选项 ##
## 标题菜单 ##
## CG鉴赏模式 ##
## 音乐鉴赏模式 ##